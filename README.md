# System Status Monitor

Ubuntu/Linux ターミナル向けの軽量システムステータスモニターです。
重い監視ツール（htopやGrafana等）を入れることなく、標準的なShellコマンドだけでシステムの健康状態、OOM（メモリ不足）の予兆、ディスク容量などをリアルタイムで可視化します。

## 特徴 (Features)

* **ハイブリッド更新:** 時計は **1秒** ごとに更新し、システム負荷のかかるデータ取得は **10秒**（設定可能）ごとに行います。
* **OOM予兆検知:** `MemAvailable`、`Swap`残量、`PSI` (Pressure Stall Information) を監視し、危険域に入ると警告を表示します。
* **フリッカーフリー:** `clear` コマンドを使わずカーソル制御を行うため、画面のチラつきがありません。
* **全ディスク自動検出:** 物理ディスク（パーティション）を自動で判別して一覧表示します。
* **レスポンシブ:** ターミナルのウィンドウ幅に合わせてヘッダーやフッターのレイアウトを自動調整します。

## 動作環境 (Requirements)

* OS: Ubuntu / Debian系 Linux (その他 bash が動く環境)
* Shell: Bash
* 依存コマンド: `ip`, `top`, `df`, `free`, `grep`, `awk`, `sed`, `upower` (バッテリー情報用)
    * ※一般的なUbuntu環境であれば標準でインストールされています。

## インストール手順 (Installation)
### 1. スクリプトファイルの作成
任意のディレクトリ（ホームディレクトリなど）に ```monitor.sh``` ファイルをコピーします。

### 2. 実行権限の付与
コピーしたスクリプトに実行権限を与えます。

```bash
chmod +x ~/monitor.sh
```

## 使い方 (Usage)

### 基本的な起動
デフォルトでは「全物理ディスク」を表示し、「10秒間隔」でデータを更新します。

```bash
./monitor.sh
```

### カスタマイズ起動
引数を指定することで、監視対象や更新頻度を変更できます。

**構文:**
```bash
./monitor.sh [監視対象] [更新秒数]
```

**実行例:**

1.  **更新頻度を変更する (例: 1秒ごとにデータ更新)**
    第1引数に `ALL` を指定し、第2引数に秒数を指定します。
    ```bash
    ./monitor.sh ALL 1
    ```

2.  **特定のディレクトリのみ監視する (例: /home)**
    ```bash
    ./monitor.sh /home
    ```

3.  **特定の場所を、高速に監視する (例: /var/log を 3秒ごと)**
    ```bash
    ./monitor.sh /var/log 3
    ```

### 終了方法
* キーボードの `Ctrl + C` を押すと終了します。

## 表示項目の見方

| 項目 | 説明 |
| :--- | :--- |
| **NETWORK** | インターフェース名とIPアドレス (Loopbackは除外) |
| **CPU USAGE** | CPU使用率 (100% - idle) |
| **DISK USAGE** | ディスク使用率。デフォルトは物理ディスク全表示。`-P`オプション準拠。 |
| **POWER** | バッテリー残量、消費電力(W)。デスクトップやVMでは表示されません。 |
| **MEMORY & OOM** | メモリ容量。OOM Risk Analysis欄で危険度を判定します。 |
| **Memory Pressure** | PSI (Pressure Stall Information)。メモリ不足による遅延発生率。 |

